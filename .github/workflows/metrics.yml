name: Generate Metrics

on:
  # Schedule the workflow to run daily at 6 AM (adjust time if needed)
  schedule:
    - cron: "0 6 * * *"
  # Allow manual runs of the workflow
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # Step 1: Check out the repository.
      - name: Checkout repository
        uses: actions/checkout@v4

      # Step 2: Run lowlighter/metrics Action.
      - name: Generate GitHub metrics
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GH_TOKEN }} # GitHub Personal Access Token
          base: header, repositories, activity             # Main metrics base
          plugin_activity: yes                             # Display recent activity
          plugin_languages: yes                            # Show programming languages usage
          plugin_achievements: yes                         # Display GitHub achievements
          plugin_stars: yes                                # Display total stars earned
          plugin_lines: yes                                # Lines of code statistics
          plugin_isocalendar: yes                          # GitHub contributions calendar
          plugin_isocalendar_duration: full-year           # Full contributions calendar
          plugin_prs: yes                                  # Show pull request activity
          plugin_prs_details: all                          # Include details on PRs created, reviewed, merged
          plugin_repositories: yes                         # Highlight top repositories
          plugin_repositories_forks: yes                   # Include fork-related repositories
          plugin_repositories_affiliations: all            # Show contributions to private and public repositories
          plugin_topics: yes                               # Highlight GitHub topics
          plugin_followup: yes                             # Highlight people you've followed
          config_timezone: Asia/Kolkata                    # Set to Indian Standard Time (IST)
